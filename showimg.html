<!-- HTML -->
<!DOCTYPE html>
<html>

<head>
    <title>Displaying Image from Firebase Storage</title>
    <style>
        img {
            height: 200px;
            width: 200px;
            border: 2px solid black;
        }
    </style>
</head>

<body>
    <img id="mrf">
    <img id="mrf1">
    <img id="mrf2">
    <img id="mrf3">

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
        const firebaseConfig = {
            apiKey: "AIzaSyDZWlJStbNfIHqQzAm9cb0FDRKALqyBN24",
            authDomain: "republik-junk.firebaseapp.com",
            databaseURL: "https://republik-junk-default-rtdb.firebaseio.com",
            projectId: "republik-junk",
            storageBucket: "republik-junk.appspot.com",
            messagingSenderId: "724447868451",
            appId: "1:724447868451:web:b151bb43df4f144ee4e396"
        };


        import { getStorage, ref, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-storage.js";
        const app = initializeApp(firebaseConfig);
        const storage = getStorage();

        // function refreshImage() {
        getDownloadURL(ref(storage, 'image.jpg'))
            .then((url) => {
                // This can be downloaded directly:
                const xhr = new XMLHttpRequest();
                xhr.responseType = 'blob';
                xhr.onload = (event) => {
                    const blob = xhr.response;
                };
                xhr.open('GET', url);
                xhr.send();
                // Or inserted into an <img> element
                const img = document.getElementById('mrf');
                img.setAttribute('src', url);
            })
            .catch((error) => {
                // Handle any errors
            });
        getDownloadURL(ref(storage, 'image1.jpg'))
            .then((url) => {
                // This can be downloaded directly:
                const xhr = new XMLHttpRequest();
                xhr.responseType = 'blob';
                xhr.onload = (event) => {
                    const blob = xhr.response;
                };
                xhr.open('GET', url);
                xhr.send();
                // Or inserted into an <img> element
                const img = document.getElementById('mrf1');
                img.setAttribute('src', url);
            })
            .catch((error) => {
                // Handle any errors
            });
        getDownloadURL(ref(storage, 'image2.jpg'))
            .then((url) => {
                // This can be downloaded directly:
                const xhr = new XMLHttpRequest();
                xhr.responseType = 'blob';
                xhr.onload = (event) => {
                    const blob = xhr.response;
                };
                xhr.open('GET', url);
                xhr.send();
                // Or inserted into an <img> element
                const img = document.getElementById('mrf2');
                img.setAttribute('src', url);
            })
            .catch((error) => {
                // Handle any errors
            });
        getDownloadURL(ref(storage, 'image3.jpg'))
            .then((url) => {
                // This can be downloaded directly:
                const xhr = new XMLHttpRequest();
                xhr.responseType = 'blob';
                xhr.onload = (event) => {
                    const blob = xhr.response;
                };
                xhr.open('GET', url);
                xhr.send();
                // Or inserted into an <img> element
                const img = document.getElementById('mrf3');
                img.setAttribute('src', url);
            })
            .catch((error) => {
                // Handle any errors
            });



        // Call the refreshImage() function every second
        // setInterval(refreshImage, 1000);
    </script>


</body>

</html>